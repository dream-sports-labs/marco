---
title: "Quick Start"
sidebar:
  order: 1
---

import {
  CardGrid,
  Code,
  Steps,
  Tabs,
  TabItem,
} from "@astrojs/starlight/components";

### Installation

<Steps>

1. Add `marco` to your project.

    <Tabs syncKey="package-manager">
      <TabItem label="yarn" icon="seti:yarn">
        ```sh frame=none
        yarn add @d11/marco
        ```
      </TabItem>
      <TabItem label="npm" icon="seti:npm">
        ```sh frame=none
        npm install @d11/marco
        ```
      </TabItem>
      <TabItem label="pnpm" icon="pnpm">
        ```sh frame=none
        pnpm add @d11/marco
        ```
      </TabItem>
    </Tabs>

2. Wrap your screen with `PerformanceTracker` to track the draw time of the screen, and use `track` to send custom markers.

    ```tsx
      // Import the PerformanceTracker component
      import { PerformanceTracker } from '@d11/marco';

      // Configure PerformanceTracker to persist data on the device
      PerformanceTracker.configure({ persistToFile: true });

      const MyScreen = () => {
        // Track specific actions
        useEffect(() => {
          PerformanceTracker.track('Screen_Mounted', Date.now());
        }, [])

        return (
          // Wrap your screen with PerformanceTracker to measure draw time
          <PerformanceTracker tagName="Screen_Loaded">
            {/* Your screen content goes here */}
            <button onClick={handleOnPress}>Click Me</button>
          </PerformanceTracker>
        );
      };
    ```

3. For instrumentation, you can choose [maestro](https://maestro.mobile.dev/platform-support/react-native) or [detox](https://wix.github.io/Detox/), or use any pre-configured instrumentation tool to run the iteration. 

4. Create a `marco.config.js` file at the root of your project with the following content.

    <Tabs syncKey="config">
      <TabItem label="Android" icon="android">
        ```js
        // marco.config.js
        module.exports = {
        platform: 'android', 
        outputPath: '<PATH_TO_STORE_REPORT>',  // Default: ./generated-perf-reports
        port: '<PORT>',                        // Default: 8080
        dataDir: '<DATA_SOURCE_PATH_TO_VISUALIZE>'
        };
        ```
      </TabItem>
      <TabItem label="iOS" icon="apple">
        ```js
        // marco.config.js
        module.exports = {
        platform: 'ios', 
        iosPackage: '<iOSPackageName>',
        outputPath: '<DATA_SOURCE_PATH>',  // Default: ./generated-perf-reports
        port: '<PORT>',                    // Default port for the visualization dashboard
        dataDir: '<DATA_SOURCE_PATH_TO_VISUALIZE>'
        };
        ```
      </TabItem>
    </Tabs>

5. Run the following command from the CLI to fetch data from the device and save it to the specified path. 

      <Tabs syncKey="package-manager">
      <TabItem label="yarn" icon="seti:yarn">
        ```sh frame=none
        yarn marco generate
        ```
      </TabItem>
      <TabItem label="npm" icon="seti:npm">
        ```sh frame=none
        npm marco generate
        ```
      </TabItem>
      <TabItem label="pnpm" icon="pnpm">
        ```sh frame=none
        pnpm marco generate
        ```
      </TabItem>
    </Tabs>

6. To visualize the data on a dashboard, run the following command. This will open a dashboard on localhost at the desired port.

      <Tabs syncKey="package-manager">
      <TabItem label="yarn" icon="seti:yarn">
        ```sh frame=none
        yarn marco visualize
        ```
      </TabItem>
      <TabItem label="npm" icon="seti:npm">
        ```sh frame=none
        npm marco visualize
        ```
      </TabItem>
      <TabItem label="pnpm" icon="pnpm">
        ```sh frame=none
        pnpm marco visualize
        ```
      </TabItem>
    </Tabs>
</Steps>

ðŸŽ‰ Yeah! You are done with your first visualization.
